!function(e){function t(s){if(a[s])return a[s].exports;var r=a[s]={exports:{},id:s,loaded:!1};return e[s].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}({0:function(e,t,a){e.exports=a(77)},2:function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},77:function(e,t,a){"use strict";var s=a(2)["default"],r=a(78),n=s(r);React.render(React.createElement(n["default"],null),document.getElementById("app"))},78:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(79),r=a(80),n=React.createClass({displayName:"Login",mixins:[Reflux.listenTo(r.operateStore,"onOperateStatus")],getInitialState:function(){return{errmsg:""}},onOperateStatus:function(e){e&&e.ret?location.href="/":this.setState({errmsg:e.errmsg})},handleLogin:function(){this.validateData()?this.submitData():""},submitData:function(){var e=JSON.stringify({username:this.refs.username.getDOMNode().value,password:this.refs.password.getDOMNode().value});s.operateActions.checkLogin(e)},validateData:function(){var e=this.refs.username.getDOMNode().value,t=this.refs.password.getDOMNode().value;return""==e?(this.setState({errmsg:"用户名不得为空！"}),!1):""==t?(this.setState({errmsg:"密码不得为空！"}),!1):(this.setState({errmsg:""}),!0)},render:function(){return React.createElement("div",{className:"m-login"},React.createElement("div",{style:{display:this.state.errmsg?"block":"none"}},React.createElement("span",{className:"ui-error"},this.state.errmsg)),React.createElement("div",{className:"ui-form"},React.createElement("div",{className:"ui-item"},React.createElement("label",{className:"ui-label"},React.createElement("i",{className:"iconfont icon-user"})),React.createElement("input",{className:"ui-input",ref:"username",type:"text",placeholder:"请输入用户名"})),React.createElement("div",{className:"ui-item"},React.createElement("label",{className:"ui-label"},React.createElement("i",{className:"iconfont icon-password"})),React.createElement("input",{className:"ui-input",ref:"password",type:"password",placeholder:"请输入密码"})),React.createElement("span",{className:"ui-submit base-btn",onClick:this.handleLogin},"登录")))}});t["default"]=n,e.exports=t["default"]},79:function(e,t){"use strict";var a=Reflux.createActions(["checkLogin"]);e.exports={operateActions:a}},80:function(e,t,a){"use strict";var s=a(79),r={CHECKLOGIN:"/api/checkLogin.json"},n=Reflux.createStore({listenables:[s.operateActions],onCheckLogin:function(e){var t=this;ajax({url:r.CHECKLOGIN,type:"post",data:e}).done(function(e){t.trigger({ret:!0,data:e})}).fail(function(e){t.trigger(e)})}});e.exports={operateStore:n}}});