!function(e){function t(s){if(a[s])return a[s].exports;var r=a[s]={exports:{},id:s,loaded:!1};return e[s].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}({0:function(e,t,a){e.exports=a(84)},2:function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},84:function(e,t,a){"use strict";var s=a(2)["default"],r=a(85),i=s(r);React.render(React.createElement(i["default"],null),document.getElementById("app"))},85:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(86),r=a(87),i=React.createClass({displayName:"Login",mixins:[Reflux.listenTo(r.operateStore,"onOperateStatus")],getInitialState:function(){return{errmsg:""}},onOperateStatus:function(e){e&&e.ret?location.href="/":this.setState({errmsg:e.errmsg})},redirectToLogin:function(){location.href="/login"},handleReg:function(){this.validateData()?this.submitData():""},handleEnter:function(e){13==e.keyCode&&this.handleReg()},submitData:function(){var e=JSON.stringify({username:this.refs.username.getDOMNode().value,password:this.refs.password.getDOMNode().value});s.operateActions.addItem(e)},validateData:function(){var e=this.refs.username.getDOMNode().value.trim(),t=this.refs.password.getDOMNode().value.trim(),a=this.refs.passwordAgain.getDOMNode().value.trim();return""==e?(this.setState({errmsg:"用户名不得为空！"}),!1):/\w/.test(e)?""==t?(this.setState({errmsg:"密码不得为空！"}),!1):/\w/.test(t)?/\w{6}/.test(t)?""==a?(this.setState({errmsg:"确认密码不得为空！"}),!1):a!=t?(this.setState({errmsg:"密码与确认密码不一致！"}),!1):(this.setState({errmsg:""}),!0):(this.setState({errmsg:"密码不得低于6位！"}),!1):(this.setState({errmsg:"密码必须由数字、字母和下划线组成！"}),!1):(this.setState({errmsg:"用户名必须由数字、字母和下划线组成！"}),!1)},render:function(){return React.createElement("div",{className:"m-login"},React.createElement("div",{className:"ui-form"},React.createElement("div",{className:"ui-item ui-header"},React.createElement("span",{className:"ui-text"},"登录云笔记")),React.createElement("div",{className:"ui-item ui-error",style:{display:this.state.errmsg?"block":"none"}},React.createElement("span",{className:"ui-text"},this.state.errmsg)),React.createElement("div",{className:"ui-item"},React.createElement("label",{className:"ui-label"},React.createElement("i",{className:"iconfont icon-user"})),React.createElement("input",{className:"ui-input",onKeyUp:this.handleEnter,ref:"username",type:"text",placeholder:"请输入用户名"})),React.createElement("div",{className:"ui-item"},React.createElement("label",{className:"ui-label"},React.createElement("i",{className:"iconfont icon-password"})),React.createElement("input",{className:"ui-input",onKeyUp:this.handleEnter,ref:"password",type:"password",placeholder:"请输入密码"})),React.createElement("div",{className:"ui-item"},React.createElement("label",{className:"ui-label"},React.createElement("i",{className:"iconfont icon-password-again"})),React.createElement("input",{className:"ui-input",onKeyUp:this.handleEnter,ref:"passwordAgain",type:"password",placeholder:"请输入确认密码"})),React.createElement("div",{className:"ui-item"},React.createElement("a",{className:"ui-submit base-btn",onClick:this.handleReg},"注册")),React.createElement("div",{className:"ui-item ui-footer"},React.createElement("span",{className:"ui-text"},"记录生活的点点滴滴。。。"),React.createElement("a",{className:"ui-reg",onClick:this.redirectToLogin},"已有账户，登录"))))}});t["default"]=i,e.exports=t["default"]},86:function(e,t){"use strict";var a=Reflux.createActions(["addItem"]);e.exports={operateActions:a}},87:function(e,t,a){"use strict";var s=a(86),r={ADDITEM:"/api/addUser.json"},i=Reflux.createStore({listenables:[s.operateActions],onAddItem:function(e){var t=this;ajax({url:r.ADDITEM,type:"post",data:e}).done(function(e){t.trigger({ret:!0,data:e})}).fail(function(e){t.trigger(e)})}});e.exports={operateStore:i}}});